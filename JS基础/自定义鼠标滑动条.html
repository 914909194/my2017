<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>滑动条</title>
	<style>
		#parent{
			width: 600px;
			height: 20px;
			background: #ccc;
			position: relative;
			margin:10px auto;
		}
		#div1{
			width: 20px;
			height: 20px;
			background: black;
			position: absolute;
			left: 0;
			top:0;

		}
		#div3{
			width: 600px;
			height: 400px;
			background: black;
			overflow: hidden;
			margin:30px auto;
			opacity: 0;
		}
		img{
			width: 600px;
			height: 400px;
		}
	</style>
</head>
<body>
	<div id="parent">
		<div id="div1"></div>
	</div>
	<div id="div3"><img src="img/5.jpg" alt=""></div>

	<script>
		var oDiv=document.getElementById('div1');
		var oDiv2=document.getElementById('parent');
		var oDiv3=document.getElementById('div3');
		oDiv.onmousedown=function(ev){
			var oEvent=ev||event;
			var disX=oEvent.clientX-oDiv.offsetLeft;
			var disY=oEvent.clientY-oDiv.offsetTop;
			document.onmousemove=function(ev){
				var oEvent=ev||event;
				var l=oEvent.clientX-disX;
				var t=oEvent.clientY-disY;
			if(l<0){
				l=0;
			}
			else if(l>oDiv2.offsetWidth-oDiv.offsetWidth){
				l=oDiv2.offsetWidth-oDiv.offsetWidth;
			}
				oDiv.style.left=l+'px'
				var scale=l/(oDiv2.offsetWidth-oDiv.offsetWidth);
				document.title=scale;
				oDiv3.style.opacity=scale;
				// oDiv3.style.width=600*scale+'px';
				// oDiv3.style.height=400*scale+'px';
		}
			
				
			
			document.onmouseup=function(){
				document.onmouseup=null;
				document.onmousemove=null;
			}
			return false;//阻止默认事件
		}
	</script>
</body>
</html>